(this["webpackJsonpmy-kingdom"]=this["webpackJsonpmy-kingdom"]||[]).push([[0],[function(t,e){t.exports=React},function(t,e){t.exports=ReactDOM},function(t,e,n){t.exports=n(8)},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),r=n(1),c=n.n(r);function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function f(t){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){return!e||"object"!==f(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}n(3);var m=Symbol(),d={"surround-cat":{content:"icon-youxi"},"sort-3d":{content:"icon-D"},hanoi:{content:"icon-diejia"},"css-util":{content:"icon-util"},calendar:{content:"icon-rili"},"kill-pc":{content:"icon-duyao"},search:{content:"icon-soushuo"},"random-cuboid":{content:"icon-donghua"},ball:{content:"icon-donghua"},Gobang:{content:"icon-qi"},"solar-system":{content:"icon-taiyangxi"},canvasToImg:{content:"icon-yuanhu"},cube:{content:"icon-mofang"},"to-qr-code":{content:"icon-V"},minesweeper:{content:"icon-saoleix"},"blog-md-test":{content:"icon-note"},"variable-declaration-of-js":{content:"icon-note"},TaiChi:{content:"icon-taiji"},"number-of-js":{content:"icon-note"},"css-code-guide":{content:"icon-note"},"image-opt":{content:"icon-picture"},"layout-of-css":{content:"icon-note"},"word-count":{content:"icon-note"},scss:{content:"icon-note"},"high-performance-web-site":{content:"icon-note"},refactoring:{content:"icon-note"},"eight-queens":{content:""},"shoot-test":{content:"icon-sheji"},"three-door":{content:"icon-men"},"translate-program":{content:"icon-biji"},"css-remove-scroll-shake":{content:"icon-note"},tetris:{content:"icon-youxi"},"snake-auto":{content:"icon-youxi"},sudoku:{content:"icon-V"},"push-box":{content:"icon-V"},"bad-apple":{content:"icon-shipin"}};for(var p in d)void 0===d[p].type&&(d[p].type=m);var v=d,g=function(t){var e={marginLeft:t.marginLeft+"px",marginTop:t.marginTop+"px",width:t.width2D+"px",height:t.height2D+"px",fontSize:t.height+"px",color:t.color};return a.a.createElement("div",{style:e,className:"building ".concat(t.show?"building-show":"")},a.a.createElement("div",{className:"wall front"},a.a.createElement("div",{className:"inner-box"},v[t.name]&&v[t.name].type?a.a.createElement("i",{className:"iconfont ".concat(v[t.name].content)}):null)),a.a.createElement("div",{className:"wall back"},a.a.createElement("div",{className:"inner-box"}," ")),a.a.createElement("div",{className:"wall up"},a.a.createElement("a",{href:t.href,target:"_blank",rel:"noopener noreferrer",className:"link inner-box"},t.title)),a.a.createElement("div",{className:"wall bottom"},a.a.createElement("div",{className:"inner-box"}," ")),a.a.createElement("div",{className:"wall left"},a.a.createElement("div",{className:"inner-box"}," ")),a.a.createElement("div",{className:"wall right"},a.a.createElement("div",{className:"inner-box"}," ")))};g.defaultProps={width2D:120,height2D:80,height:320,left:0,top:0,color:"#119b11"};var b=g,y=(n(4),function(t){var e={transform:"translate3d(".concat(t.translateX,"px, ").concat(t.translateY,"px, ").concat(t.translateZ,"px)\n         rotateX(").concat(t.rotateX,"deg) rotateY(0deg) rotateZ(").concat(t.rotateZ,"deg)")};return a.a.createElement("div",{className:"ground",style:e},t.buildings.map((function(t){return a.a.createElement(b,Object.assign({key:t.name},t))})))}),w=(n(5),function(t){return t/4}),E=function(t,e){var n=t,o=e-t;return void 0===e&&(n=0,o=t),~~(o*Math.random())+n},X=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(f,t);var e,n,o,r,c=(e=f,function(){var t,n=l(e);if(u()){var o=l(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return h(this,t)});function f(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(e=c.call(this,t)).initCache=function(){var t=e.cache;t.rotating=!1,t.translational=!1,t.offsetX=0,t.offsetY=0,t.rotateDirection=null},e.rotate=function(t){e.updateOffset(t);var n=e.cache,o=n.offsetX,a=n.offsetY;null===n.rotateDirection?(Math.abs(o)>30||Math.abs(a)>30)&&(e.cache.rotateDirection=~~(Math.abs(a)>Math.abs(o)),e.updateRotateState()):e.updateRotateState()},e.updateOffset=function(t){e.cache.offsetX=e.cache.startX-t.pageX,e.cache.offsetY=e.cache.startY-t.pageY},e.translate=function(t){e.updateOffset(t);var n=e.cache,o=n.offsetX,a=n.offsetY,r=n.translateX,c=n.translateY;e.setState({translateX:r-o,translateY:c-a})},e.state={translateX:0,translateY:0,translateZ:-800,rotateX:45,rotateZ:0,buildings:[]},e.kMap=a.a.createRef(),e.cache={startX:0,startY:0,offsetX:0,offsetY:0,translateX:0,translateY:0,rotateX:45,rotateZ:0,rotating:!1,rotateDirection:null,translational:!1},e}return n=f,(o=[{key:"updateRotateState",value:function(){1===this.cache.rotateDirection?this.setState({rotateX:this.cache.rotateX+w(this.cache.offsetY)}):this.setState({rotateZ:this.cache.rotateZ+w(this.cache.offsetX)})}},{key:"initEventListener",value:function(){var t=this,e=this.kMap;e.current.addEventListener("mousedown",(function(n){t.cache.startX=n.pageX,t.cache.startY=n.pageY,e.current.addEventListener("mousemove",n.ctrlKey?t.rotate:t.translate)})),e.current.addEventListener("mouseup",(function(){var n=t.cache;null!==n.rotateDirection?(e.current.removeEventListener("mousemove",t.rotate),1===n.rotateDirection?n.rotateX+=w(n.offsetY):0===n.rotateDirection&&(n.rotateZ+=w(n.offsetX))):(e.current.removeEventListener("mousemove",t.translate),n.translateX-=n.offsetX,n.translateY-=n.offsetY),t.initCache()})),e.current.addEventListener("mousewheel",(function(e){e.ctrlKey&&e.preventDefault(),t.setState({translateZ:t.state.translateZ+(e.wheelDelta>0?80:-80)})}))}},{key:"initBuildings",value:function(){var t=/([a-z0-9-]+)\.html$/i,e=Array.from(document.querySelectorAll(".post-list li a")).map((function(e){return{title:e.innerText,href:e.href,name:t.exec(e.href)[1],width2D:E(120,170),height2D:E(80,120),height:E(320,420),marginLeft:E(20,100),marginTop:E(20,100),color:"rgb(".concat(E(50,255),", ").concat(E(50,255),", ").concat(E(50,255),")")}})).reverse();this.setState({buildings:e})}},{key:"componentDidMount",value:function(){this.initEventListener(),this.initBuildings()}},{key:"render",value:function(){return a.a.createElement("div",{className:"k-map",ref:this.kMap},a.a.createElement(y,{translateX:this.state.translateX,translateY:this.state.translateY,translateZ:this.state.translateZ,rotateX:this.state.rotateX,rotateZ:this.state.rotateZ,buildings:this.state.buildings}))}}])&&i(n.prototype,o),r&&i(n,r),f}(a.a.Component);n(6);var x=function(){var t=Object(o.useRef)(null);return Object(o.useEffect)((function(){var e=document.getElementById("canvas-bg"),n=e.getContext("2d"),o=e.width=document.body.clientWidth,a=e.height=window.innerHeight,r=new Array(256).join("1").split("");setInterval((function(){n.fillStyle="rgba(0,0,0,0.05)",n.fillRect(0,0,o,a),n.fillStyle="rgba(0,255,0,1)",r=r.map((function(t,e){var o=Math.random();return n.fillText(String.fromCharCode(Math.floor(2720+33*o)),10*e,t),(t+=10)>768+1e4*o?0:t}))}),33),t.current.ondragstart=function(t){t.preventDefault()}}),[]),a.a.createElement("div",{className:"App",ref:t},a.a.createElement("canvas",{id:"canvas-bg"}),a.a.createElement(X,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(7);c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[2,1]]]);