<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>评分系统</title>
    <style>
        #addCategory * {
            display: block;
        }
        #wrap {
            display: flex;
            flex-wrap: wrap;
        }

        .content-item {
            width: 25%;
            box-sizing: border-box;
            border: 1px solid #ddd;
        }
        .content-item form {
            float: right;
        }


        ol {
            padding-left: 1.5em;
        }

        li {
            word-wrap: break-word;
            color: #999
        }

        li.item {
            margin: 3px;
            padding: 3px;
            outline: 1px solid currentColor;
        }

        li[data-value="3"] {
            color: #05f305;
        }

        li[data-value="2"] {
            color: #0389da;
        }

        li[data-value="1"] {
            color: red;
        }
    </style>
</head>
<body>
<form id="addCategory">
    <input required type="text" placeholder="category" id="category">
    <textarea required id="contentList" cols="30" rows="5" placeholder="content"></textarea>
    <button>添加</button>
</form>

<div id="wrap"></div>

<script>
    let form = document.getElementById('addCategory');
    let category = document.getElementById('category');
    let contentList = document.getElementById('contentList');
    let wrap = document.getElementById('wrap');

    form.onsubmit = function () {
        addCategory(category.value, contentList.value);
        return false;
    };

    let addCategory = (category, contentList) => {
        let item = document.createElement('div');
        item.className = 'content-item';
        item.innerHTML = `
            <h3>${category}</h3>
            <ol>
                ${
                    contentList.trim().split('\n').map(content =>
                        `<li class="item">
                            <span>${content}</span>
                            <form>
                                <label><input type="radio" name="score" value="3">A</label>
                                <label><input type="radio" name="score" value="2">B</label>
                                <label><input type="radio" name="score" value="1">C</label>
                                <label><input type="radio" name="score" value="0">空</label>
                            </form>
                         </li>`).join('')
                }
            </ol>
        `;
        wrap.appendChild(item);
    };

    wrap.addEventListener('change', ({target}) => {
        let li = target.parentElement.parentElement.parentElement;
        let value = target.value;
        li.dataset.value = target.value;
        if (value === '0') {
            li.classList.remove('active');
        } else {
            li.classList.add('active');
        }
    })
</script>
</body>
</html>
