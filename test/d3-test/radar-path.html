<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Radar path</title>
</head>
<body>

<svg width="600" height="600">
    <g transform="translate(300, 300)">
        <g class="point"></g>
        <g class="path-g"></g>
        <circle r="100" fill="black"></circle>
    </g>
</svg>

<script src="../../js/d3/d3.js"></script>
<script>
    var data = new Array(10).fill(null).map(function () {
        return ~~ (Math.random() * 100);
    });

    var splitDegree = Math.PI * 2 / data.length;
    var points = [];

//    d3.select('.point').selectAll('circle')
//        .data(data)
//        .enter()
//        .append('circle')
//        .attr('r', 3)
//        .attr('fill', '#000')
//        .attr('transform', function (d, index) {
//            var x = ~~((d + 100) * Math.sin(splitDegree * index));
//            var y = ~~((d + 100) * Math.cos(splitDegree * index));
//            points.push([x, y]);
//            return `translate(${x}, ${y})`;
//        });

    data.forEach(function (d, index) {
        var x = ~~((d + 100) * Math.sin(splitDegree * index));
        var y = ~~((d + 100) * Math.cos(splitDegree * index));
        points.push([x, y]);
    });

    d3.select('.path-g').append('path')
        .attr('fill', '#00f')
        .attr('d', function () {
            var d = `M ${points[0].join(' ')}\n`;
            points.slice(1).concat([points[0]]).forEach(function (point, index) {
                var prevPoint = points[index];
                d += `C ${prevPoint.join(' ')} ${(prevPoint[0] + point[0]) * 0.6} ${(prevPoint[1] + point[1]) * 0.6} ${point.join(' ')}\n`;
            });
            console.log(d);
            return d;
        });
</script>
</body>
</html>