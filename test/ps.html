<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>图片处理</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/ps.css">
</head>
<body>

<div class="opt-menu">

    <fieldset>
        <legend>插入图片</legend>
        <input type="file" id="loadFile" class="v-input fl" data-event="change" data-cmd="drawImgByFile">

        <input type="text" placeholder="Ctrl+V粘贴图片" class="v-input fl" id="pasteImg" data-event="paste" data-cmd="drawImgByClipboard">

        <input type="text" placeholder="图片地址或base64" class="v-input" id="webImg" spellcheck="false">
        <button id="loadWebImg" class="btn" data-cmd="drawImgBySrc">加载</button>
        <button class="btn" data-cmd="reset">还原</button>
    </fieldset>

    <fieldset>
        <legend>图片处理</legend>
        <button class="btn" id="toBase64" data-cmd="toBase64">转base64</button>
        <input type="text" readonly class="v-input" placeholder="base64" id="base64Content">
        <button class="btn" id="copyBase64" data-cmd="copyBase64">复制</button>

        <button class="btn" id="toJpg" data-cmd="downloadImg" data-type="image/jpeg">下载JPG</button>
        <button class="btn" id="toPng" data-cmd="downloadImg" data-type="image/png">下载PNG</button>
        <button class="btn" data-cmd="downloadWechat">下载微信九宫格</button>
        (如果没有反应多半是手机浏览器没有权限, 只能长按生成的图片一个个保存)
    </fieldset>


    <fieldset>
        <legend>滤镜</legend>
        <div class="flex">
            <button class="btn" data-cmd="decolourize">去色</button>
            <button class="btn" data-cmd="inverse">反色</button>
            <button class="btn" data-cmd="hFlip">水平翻转</button>
            <button class="btn" data-cmd="vFlip">垂直翻转</button>
            <div>
                <button class="btn" data-cmd="stock">描边</button>
                <input class="v-input" type="number" min="0" max="255" step="1" id="tolerance" value="20">
                <label for="tolerance">描边容差</label>
            </div>
            <button class="btn" data-cmd="cutNine">生成微信九宫格</button>
        </div>
    </fieldset>

    <fieldset>
        <legend>选择框</legend>
        <button class="btn" data-cmd="toggleSelect">切换选择框</button>
        <button class="btn" data-cmd="crop">裁剪</button>
        <br/>
        <input type="number" class="v-input" placeholder="宽" step="1" id="cropWidth"> ×
        <input type="number" class="v-input" placeholder="高" step="1" id="cropHeight">
        <button class="btn" data-cmd="setCropSize">设置宽高</button>
    </fieldset>
</div>

<div class="content-wrap">
    <div class="canvas-wrap" id="canvas-wrap">
        <canvas id="canvas" class="theme"></canvas>
    </div>

    <ul class="wechat-nine" id="weChatNine"></ul>
</div>
<script src="../js/cropper.js"></script>
<script src="../js/ps.js"></script>
</body>
</html>