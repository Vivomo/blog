# 关于代码设计

## 设计中的挑战

### 险恶 wicked
"险恶的问题" 是指只有通过解决或部分解决才能明确的问题；
例子：// TODO

### 了无章法的过程
软件设计的成果应该是组织良好、干净利落的。然而形成这个设计的过程却并非如此清爽。
在这个过程中，设计者通常采取了很多错误步骤，然而试错正式设计的关键所在。在设计阶段试错求解改正远比编码后发现同样的问题
并改正的代价要低的多。而且了无章法还体现在优劣设计之间的差异往往很微妙。很难判断设计何时算是足够好，设计到什么程度，精确到什么细节才算够？
多少设计用形式化的设计符号以及多少设计留在编码时做，通常的回答是“到你没时间做了为止”。

### 限制
时间与空间

### 不确定的
同一个程序可能会有几个截然不同的设计，而且不分伯仲

### 启发式过程
设计具有探索性

### 自然形成
随着时间，项目的改变在不断演化改善

## 关键的设计概念

### 管理复杂度

#### 困难
本质上说软件开发就是不断地去发掘错综复杂、相互连接的整套概念的所有细节。
来自本质的困难：
* 世界的复杂性和无序性
* 精确完整地识别各种依赖与例外
* 设计出完全正确而不是大致正确的解决方案

#### 管理复杂度的重要性
项目的失败大多数由不尽人意的需求、规划和管理所导致。人们很少把技术原因当做首要元素，如果是技术原因，通常是复杂度失控了。
分治解决。

### 理想的设计特征
* 最小的复杂度
* 松散耦合
* 可拓展性
* 可重用性
* 高扇入 （底层工具类）
* 低扇出
* 可移植性
* 精简性
* 层次性
* 标准技术

#### 设计的层次
* 软件系统
* 分解为子系统或包
* 分解为类
* 分解为子程序
* 子程序内部的设计

## 启发式方法 （试探法）

### 找出现实中的对象

### 形成一致的抽象
忽略无关的细节

### 封装实现细节
我该隐藏些什么

### 找出容易改变的区域
好的程序设计所面临的最重要挑战之一就是适应变化

### 保持松散耦合

### 查阅常用的设计模式

### 其他

## 设计实践

### 分而治之

### 自上而下 和 自下而上

### 合作设计